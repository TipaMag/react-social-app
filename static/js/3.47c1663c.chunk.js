(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{314:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(12),u=t(143),l=t(29),i=t(37),c=t(14),f=t(15);function s(){var n=Object(c.a)(["\n    color: ",";\n    background-color: ",";\n    cursor: pointer;\n    padding: 0 2px;\n    margin: 0 2px;\n    &:hover {\n        color: blue;\n    }\n"]);return s=function(){return n},n}function g(){var n=Object(c.a)(["\n    display: inline-flex;\n    flex-flow: row nowrap;\n    padding: 5px;\n"]);return g=function(){return n},n}var p=f.a.div(g()),d=f.a.div(s(),(function(n){return n.selectedPage?"#fff":"#000"}),(function(n){return n.selectedPage?"#6ea6ce":"#fff"})),m=t(34),v=function(n){for(var e=n.totalItemsCount,t=n.pageSize,o=n.currentPage,u=n.onPageChanged,l=n.portionSize,c=void 0===l?10:l,f=Math.ceil(e/t),s=[],g=1;g<=f;g++)s.push(g);var v=Math.ceil(f/c),h=Object(r.useState)(1),w=Object(i.a)(h,2),b=w[0],E=w[1],P=(b-1)*c+1,y=b*c,j=s.filter((function(n){return n>=P&&n<=y})).map((function(n){return a.a.createElement(d,{selectedPage:o===n,key:n,onClick:function(){return u(n)}},n)}));return a.a.createElement(p,null,a.a.createElement(m.a,{onClick:function(){return E(b-1)},disabled:b<=1},"PREV"),j,a.a.createElement(m.a,{onClick:function(){return E(b+1)},disabled:v<=b},"NEXT"))},h=t(13),w=t(119),b=t.n(w);function E(){var n=Object(c.a)(["\n    margin: 0 20px;\n"]);return E=function(){return n},n}function P(){var n=Object(c.a)(["\n    \n"]);return P=function(){return n},n}function y(){var n=Object(c.a)(["\n    color: #afafaf;\n"]);return y=function(){return n},n}function j(){var n=Object(c.a)(["\n\n"]);return j=function(){return n},n}function C(){var n=Object(c.a)(["\n    display: flex;\n    flex-flow: column;\n    flex-grow: 2;\n"]);return C=function(){return n},n}function x(){var n=Object(c.a)(["\n    width: 55px;\n    height: 55px;\n    border-radius: 50%;\n    overflow: hidden;\n    margin-right: 20px;\n    & a {\n        display: flex;\n    }\n    & a img {\n        width: 100%;\n    }\n"]);return x=function(){return n},n}function O(){var n=Object(c.a)(["\n   display: flex;\n   justify-content: space-between;\n   align-items: center;\n   padding: 5px;\n   border: 1px solid #ccc;\n"]);return O=function(){return n},n}var F=f.a.li(O()),k=f.a.div(x()),U=f.a.div(C()),S=f.a.span(j()),A=f.a.span(y()),I=f.a.div(P()),z=f.a.div(E()),N=function(n){var e=n.userId,t=n.smallPhoto,r=n.name,o=n.status,u=n.followed,l=n.isAuth,i=n.onUnfollow,c=n.onFollow,f=n.startChatting,s=n.followingInProgress;return a.a.createElement(F,null,a.a.createElement(k,null,a.a.createElement(h.b,{to:"/profile/"+e},a.a.createElement("img",{src:null!=t?t:b.a,alt:"avatar"}))),a.a.createElement(U,null,a.a.createElement(S,null,r),a.a.createElement(A,null,o)),l&&a.a.createElement(a.a.Fragment,null,a.a.createElement(I,null,a.a.createElement(h.b,{to:"/dialogs/"+e,onClick:function(){return f(e)}},a.a.createElement(m.a,{type:"button"},"write a message"))),a.a.createElement(z,null,u?a.a.createElement(m.a,{disabled:s.some((function(n){return n===e})),onClick:function(){return i(e)}},"unfollow"):a.a.createElement(m.a,{disabled:s.some((function(n){return n===e})),onClick:function(){return c(e)}},"follow"))))};function q(){var n=Object(c.a)(["\n   display: grid;\n   grid-gap: 5px;\n   margin: 0;\n   padding: 0;\n   list-style: none;\n"]);return q=function(){return n},n}function J(){var n=Object(c.a)(["\n\n"]);return J=function(){return n},n}function M(){var n=Object(c.a)(["\n    \n"]);return M=function(){return n},n}var R=f.a.div(M()),T=f.a.div(J()),V=f.a.ul(q()),X=function(n){var e=n.users,t=n.isAuth,r=n.onPageChanged,o=n.onFollow,u=n.onUnfollow,l=n.startChatting,i=n.followingInProgress,c=n.totalUsersCount,f=n.pageSize,s=n.currentPage;return a.a.createElement(R,null,a.a.createElement(T,null,a.a.createElement(v,{totalItemsCount:c,pageSize:f,currentPage:s,onPageChanged:r})),a.a.createElement(V,null,e.map((function(n){return a.a.createElement(N,{key:n.id,userId:n.id,name:n.name,smallPhoto:n.photos.small,followed:n.followed,status:n.status,isAuth:t,onFollow:o,onUnfollow:u,startChatting:l,followingInProgress:i})}))))},B=t(50),D=t(8);function G(n,e){return n===e}function H(n,e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var r=e.length,a=0;a<r;a++)if(!n(e[a],t[a]))return!1;return!0}function K(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var t=e.map((function(n){return typeof n})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return e}var L=function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];var o=0,u=r.pop(),l=K(r),i=n.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(t)),c=n((function(){for(var n=[],e=l.length,t=0;t<e;t++)n.push(l[t].apply(null,arguments));return i.apply(null,n)}));return c.resultFunc=u,c.dependencies=l,c.recomputations=function(){return o},c.resetRecomputations=function(){return o=0},c}}((function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,t=null,r=null;return function(){return H(e,t,arguments)||(r=n.apply(null,arguments)),t=arguments,r}}));var Q=L([function(n){return n.usersPage.users.items}],(function(n){return n.filter((function(n){return!0}))})),W=function(n){return n.auth.isAuth},Y=function(n){return n.usersPage.pageSize},Z=function(n){return n.usersPage.totalUsersCount},$=function(n){return n.usersPage.currentPage},_=function(n){return n.usersPage.isFetching},nn=function(n){return n.usersPage.followingInProgress};e.default=Object(D.d)(Object(o.b)((function(n){return{users:Q(n),isAuth:W(n),pageSize:Y(n),totalUsersCount:Z(n),currentPage:$(n),isFetching:_(n),followingInProgress:nn(n)}}),{requestUsers:u.c,getNewPage:u.b,setFollow:u.d,setUnfollow:u.e,startChatting:l.g}))((function(n){Object(r.useEffect)((function(){n.requestUsers(n.pageSize,n.currentPage)}),[]);return a.a.createElement(a.a.Fragment,null,n.isFetching?a.a.createElement(B.a,null):null,a.a.createElement(X,Object.assign({},n,{onPageChanged:function(e){n.getNewPage(n.pageSize,e)},onFollow:function(e){n.setFollow(e)},onUnfollow:function(e){n.setUnfollow(e)}})))}))}}]);
//# sourceMappingURL=3.47c1663c.chunk.js.map