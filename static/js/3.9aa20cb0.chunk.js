(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{314:function(n,e,t){"use strict";function r(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},u=Object.keys(n);for(r=0;r<u.length;r++)t=u[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(r=0;r<u.length;r++)t=u[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}t.r(e);var a=t(0),u=t.n(a),o=t(9),l=t(12),i=t(36),c=t(15),s=t(16);function f(){var n=Object(c.a)(["\n    color: ",";\n    background-color: ",";\n    cursor: pointer;\n    padding: 0 2px;\n    margin: 0 2px;\n    &:hover {\n        color: blue;\n    }\n"]);return f=function(){return n},n}function g(){var n=Object(c.a)(["\n    display: inline-flex;\n    flex-flow: row nowrap;\n    padding: 5px;\n"]);return g=function(){return n},n}var p=s.a.div(g()),d=s.a.div(f(),(function(n){return n.selectedPage?"#fff":"#000"}),(function(n){return n.selectedPage?"#6ea6ce":"#fff"})),m=t(34),h=function(n){for(var e=n.totalItemsCount,t=n.pageSize,r=n.currentPage,o=n.onPageChanged,l=n.portionSize,c=void 0===l?10:l,s=Math.ceil(e/t),f=[],g=1;g<=s;g++)f.push(g);var h=Math.ceil(s/c),v=Object(a.useState)(1),b=Object(i.a)(v,2),w=b[0],y=b[1];Object(a.useEffect)((function(){y(1)}),[e]);var E=(w-1)*c+1,P=w*c;return u.a.createElement(p,null,u.a.createElement(m.a,{onClick:function(){return y(w-1)},disabled:w<=1},"<<"),f.filter((function(n){return n>=E&&n<=P})).map((function(n){return u.a.createElement(d,{selectedPage:r===n,key:n,onClick:function(){return o(n)}},n)})),u.a.createElement(m.a,{onClick:function(){return y(w+1)},disabled:h<=w},">>"))},v=t(13),b=t(115),w=t.n(b);function y(){var n=Object(c.a)(["\n    margin: 0 20px;\n"]);return y=function(){return n},n}function E(){var n=Object(c.a)(["\n    \n"]);return E=function(){return n},n}function P(){var n=Object(c.a)(["\n    color: #afafaf;\n"]);return P=function(){return n},n}function O(){var n=Object(c.a)(["\n\n"]);return O=function(){return n},n}function j(){var n=Object(c.a)(["\n    display: flex;\n    flex-flow: column;\n    flex-grow: 2;\n"]);return j=function(){return n},n}function x(){var n=Object(c.a)(["\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    overflow: hidden;\n    margin-right: 20px;\n    & a {\n        display: flex;\n    }\n    & a img {\n        width: 100%;\n    }\n"]);return x=function(){return n},n}function C(){var n=Object(c.a)(["\n   display: flex;\n   justify-content: space-between;\n   align-items: center;\n   padding: 3px;\n   border: 1px solid var(--DARK-BLUE);\n   border-radius: 4px;\n"]);return C=function(){return n},n}var U=s.a.li(C()),S=s.a.div(x()),k=s.a.div(j()),A=s.a.span(O()),I=s.a.span(P()),F=s.a.div(E()),z=s.a.div(y()),q=t(24),D=t(25),J=function(n){var e=n.userId,t=n.smallPhoto,r=n.name,a=n.status,o=n.followed,l=n.isAuth,i=n.onUnfollow,c=n.onFollow,s=n.startChatting,f=n.followingInProgress;return u.a.createElement(U,null,u.a.createElement(S,null,u.a.createElement(v.b,{to:"/profile/"+e},u.a.createElement("img",{src:null!=t?t:w.a,alt:"avatar"}))),u.a.createElement(k,null,u.a.createElement(A,null,r),u.a.createElement(I,null,a)),l&&u.a.createElement(u.a.Fragment,null,u.a.createElement(F,null,u.a.createElement(v.b,{to:"/dialogs/"+e,onClick:function(){return s(e)}},u.a.createElement(m.a,{type:"button"},u.a.createElement(q.a,{icon:D.d})))),u.a.createElement(z,null,o?u.a.createElement(m.a,{disabled:f.some((function(n){return n===e})),onClick:function(){return i(e)}},"unfollow"):u.a.createElement(m.a,{disabled:f.some((function(n){return n===e})),onClick:function(){return c(e)}},"follow"))))};function M(){var n=Object(c.a)(["\n   display: grid;\n   grid-gap: 5px;\n   margin: 0;\n   padding: 0;\n   list-style: none;\n"]);return M=function(){return n},n}function N(){var n=Object(c.a)(["\n   display: flex;\n   margin-bottom: 10px;\n   justify-content: space-between;\n"]);return N=function(){return n},n}function R(){var n=Object(c.a)(["\n    \n"]);return R=function(){return n},n}var B=s.a.div(R()),K=s.a.div(N()),L=s.a.ul(M());function G(n,e){return n===e}function H(n,e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var r=e.length,a=0;a<r;a++)if(!n(e[a],t[a]))return!1;return!0}function Q(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var t=e.map((function(n){return typeof n})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return e}var T=function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];var u=0,o=r.pop(),l=Q(r),i=n.apply(void 0,[function(){return u++,o.apply(null,arguments)}].concat(t)),c=n((function(){for(var n=[],e=l.length,t=0;t<e;t++)n.push(l[t].apply(null,arguments));return i.apply(null,n)}));return c.resultFunc=o,c.dependencies=l,c.recomputations=function(){return u},c.resetRecomputations=function(){return u=0},c}}((function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,t=null,r=null;return function(){return H(e,t,arguments)||(r=n.apply(null,arguments)),t=arguments,r}}));var V=T([function(n){return n.usersPage.users.items}],(function(n){return n.filter((function(n){return!0}))})),W=function(n){return n.auth.isAuth},X=function(n){return n.usersPage.pageSize},Y=function(n){return n.usersPage.totalUsersCount},Z=function(n){return n.usersPage.currentPage},$=function(n){return n.usersPage.isFetching},_=function(n){return n.usersPage.followingInProgress},nn=function(n){return n.usersPage.searchUser},en=t(139),tn=t(28),rn=t(51);function an(){var n=Object(c.a)(["\n    display: flex;\n    & input {\n        margin-right: 10px;\n        outline: none;\n    }\n"]);return an=function(){return n},n}var un=s.a.form(an()),on=function(n){var e=n.onSearchUser,t=Object(a.useState)(""),r=Object(i.a)(t,2),o=r[0],l=r[1];return u.a.createElement(un,{onSubmit:function(n){n.preventDefault(),e(o)}},u.a.createElement("input",{type:"text",placeholder:"search user...",onChange:function(n){return l(n.target.value)},value:o}),u.a.createElement(m.a,{type:"submit"},u.a.createElement(q.a,{icon:D.h})))};e.default=Object(o.d)(Object(l.b)((function(n){return{users:V(n),isAuth:W(n),pageSize:X(n),totalUsersCount:Y(n),currentPage:Z(n),isFetching:$(n),followingInProgress:_(n),searchUser:nn(n)}}),{requestUsers:en.c,getNewPage:en.b,setFollow:en.e,setUnfollow:en.f,searchUsers:en.d,startChatting:tn.h}))((function(n){var e=n.users,t=n.isAuth,o=n.isFetching,l=n.startChatting,i=n.followingInProgress,c=n.totalUsersCount,s=n.pageSize,f=n.currentPage,g=r(n,["users","isAuth","isFetching","startChatting","followingInProgress","totalUsersCount","pageSize","currentPage"]);Object(a.useEffect)((function(){g.requestUsers(s,f)}),[g.searchUser]);var p=function(n){g.setFollow(n)},d=function(n){g.setUnfollow(n)};return u.a.createElement(B,null,u.a.createElement(K,null,u.a.createElement(h,{totalItemsCount:c,pageSize:s,currentPage:f,onPageChanged:function(n){g.getNewPage(s,n)}}),u.a.createElement(on,{onSearchUser:function(n){g.searchUsers(n)}})),o?u.a.createElement(rn.a,null):e.length>1?u.a.createElement(L,null,e.map((function(n){return u.a.createElement(J,{key:n.id,userId:n.id,name:n.name,smallPhoto:n.photos.small,followed:n.followed,status:n.status,isAuth:t,onFollow:p,onUnfollow:d,startChatting:l,followingInProgress:i})}))):u.a.createElement("div",null,"no items"))}))}}]);
//# sourceMappingURL=3.9aa20cb0.chunk.js.map